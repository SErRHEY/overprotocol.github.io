"use strict";(self.webpackChunkover_docs=self.webpackChunkover_docs||[]).push([[47],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return n?o.createElement(h,i(i({ref:t},p),{},{components:n})):o.createElement(h,i({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7998:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const a={title:"Deploy Your Contract",description:"Step-by-step guides for developers who wants to utilize Foundry, Hardhat or Remix.",lang:"en"},i=void 0,l={unversionedId:"developers/build-your-contract/deploy-your-contract",id:"developers/build-your-contract/deploy-your-contract",title:"Deploy Your Contract",description:"Step-by-step guides for developers who wants to utilize Foundry, Hardhat or Remix.",source:"@site/docs/developers/build-your-contract/deploy-your-contract.md",sourceDirName:"developers/build-your-contract",slug:"/developers/build-your-contract/deploy-your-contract",permalink:"/developers/build-your-contract/deploy-your-contract",draft:!1,editUrl:"https://github.com/overprotocol/overprotocol.github.io/edit/develop/docs/developers/build-your-contract/deploy-your-contract.md",tags:[],version:"current",frontMatter:{title:"Deploy Your Contract",description:"Step-by-step guides for developers who wants to utilize Foundry, Hardhat or Remix.",lang:"en"},sidebar:"developersSidebar",previous:{title:"Build Your Contract",permalink:"/developers/build-your-contract/"},next:{title:"Developer Tools",permalink:"/developers/build-your-contract/developer-tools"}},s={},c=[{value:"Build With Foundry",id:"with-foundry",level:2},{value:"Installation",id:"installation",level:3},{value:"Creating a New Project",id:"creating-a-new-project",level:3},{value:"Deploying Your Contracts",id:"deploying-your-contracts",level:3},{value:"Build With Hardhat",id:"with-hardhat",level:2},{value:"Installation",id:"installation-1",level:3},{value:"Creating a New Project",id:"creating-a-new-project-1",level:3},{value:"Compiling Your Contracts",id:"compiling-your-contracts",level:3},{value:"Testing Your Contracts",id:"testing-your-contracts",level:3},{value:"Deploying Your Contracts",id:"deploying-your-contracts-1",level:3},{value:"Build With Remix",id:"with-remix",level:2},{value:"Using Remix with OverProtocol",id:"using-remix-with-overprotocol",level:3},{value:"Access",id:"access",level:4},{value:"Connect",id:"connect",level:4},{value:"Load Contracts",id:"load-contracts",level:4},{value:"Compile",id:"compile",level:4},{value:"Deploy",id:"deploy",level:4}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"OverProtocol's compatibility with the Ethereum Virtual Machine (EVM) allows you to leverage various Ethereum development environments to build and deploy your smart contracts. This guide outlines how to use popular tools like Foundry, Hardhat and Remix for developing on OverProtocol. Detailed steps and tips will ensure you understand the nuances of deploying effectively in each environment."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#with-foundry"},"Build with Foundry")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#with-hardhat"},"Build with Hardhat")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#with-remix"},"Build with Remix"))),(0,r.kt)("h2",{id:"with-foundry"},"Build With Foundry"),(0,r.kt)("p",null,"Foundry is a fast, portable, and modular toolkit for Ethereum application development. For detailed information and further utilization of Foundry, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://book.getfoundry.sh/"},"official documentation"),"."),(0,r.kt)("h3",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Install Foundry by following the instructions on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/foundry-rs/foundry"},"Foundry's GitHub repository")," and the ",(0,r.kt)("a",{parentName:"p",href:"https://book.getfoundry.sh/getting-started/installation"},"installation guide"),"."),(0,r.kt)("p",null,"Foundry consists of:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Forge"),": Ethereum testing framework (like Truffle, Hardhat and DappTools)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Cast"),": Swiss army knife for interacting with EVM smart contracts, sending transactions and getting chain data."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Anvil"),": Local Ethereum node, akin to Ganache, Hardhat Network."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Chisel"),": Fast, utilitarian, and verbose solidity REPL.")),(0,r.kt)("h3",{id:"creating-a-new-project"},"Creating a New Project"),(0,r.kt)("p",null,"To start a new project with Foundry, use ",(0,r.kt)("inlineCode",{parentName:"p"},"forge init")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ forge init hello_foundry\n")),(0,r.kt)("p",null,"Let's check out what ",(0,r.kt)("inlineCode",{parentName:"p"},"forge")," generated for us:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ cd hello_foundry\n$ ls\n")),(0,r.kt)("p",null,"The default template comes with one dependency installed: Forge Standard Library. This is the preferred testing library used for Foundry projects. Additionally, the template also comes with an empty starter contract and a simple test."),(0,r.kt)("p",null,"We can build the project with ",(0,r.kt)("inlineCode",{parentName:"p"},"forge build"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ forge build\nCompiling 27 files with 0.8.19\nSolc 0.8.19 finished in 1.16s\nCompiler run successful!\n")),(0,r.kt)("p",null,"And run the tests with ",(0,r.kt)("inlineCode",{parentName:"p"},"forge test"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ forge test\nNo files changed, compilation skipped\n\nRan 2 tests for test/Counter.t.sol:CounterTest\n[PASS] testFuzz_SetNumber(uint256) (runs: 256, \u03bc: 30454, ~: 31310)\n[PASS] test_Increment() (gas: 31325)\nSuite result: ok. 2 passed; 0 failed; 0 skipped; finished in 9.15ms (8.89ms CPU time)\n\nRan 1 test suite in 13.66ms (9.15ms CPU time): 2 tests passed, 0 failed, 0 skipped (2 total tests)\n")),(0,r.kt)("p",null,"You\u2019ll notice that two new directories have popped up: ",(0,r.kt)("inlineCode",{parentName:"p"},"out")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"cache"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"out")," directory contains your contract artifact, such as the ABI, while the ",(0,r.kt)("inlineCode",{parentName:"p"},"cache")," is used by ",(0,r.kt)("inlineCode",{parentName:"p"},"forge")," to only recompile what is necessary."),(0,r.kt)("h3",{id:"deploying-your-contracts"},"Deploying Your Contracts"),(0,r.kt)("p",null,"You can find out the official Foundry's documentation ",(0,r.kt)("a",{parentName:"p",href:"https://book.getfoundry.sh/forge/deploying"},"here"),"."),(0,r.kt)("p",null,"Forge can deploy smart contracts to a given network with the ",(0,r.kt)("inlineCode",{parentName:"p"},"forge create")," command."),(0,r.kt)("p",null,"To deploy a contract, you must provide a RPC URL (env: ",(0,r.kt)("inlineCode",{parentName:"p"},"ETH_RPC_URL"),") and the private key of the account that will deploy the contract."),(0,r.kt)("p",null,"To deploy ",(0,r.kt)("inlineCode",{parentName:"p"},"MyContract")," to a network:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ forge create --rpc-url <your_rpc_url> --private-key <your_private_key> src/MyContract.sol:MyContract\nCompiling...\nNo files changed, compilation skipped\nDeployer: 0x079E40B71d...\nDeployed to: 0x92e9a5A338...\nTransaction hash: 0x2c13f01a69...\n")),(0,r.kt)("p",null,"Solidity files may contain multiple contracts. ",(0,r.kt)("inlineCode",{parentName:"p"},":MyContract")," above specifies which contract to deploy from the ",(0,r.kt)("inlineCode",{parentName:"p"},"src/MyContract.sol")," file."),(0,r.kt)("p",null,"Use the ",(0,r.kt)("inlineCode",{parentName:"p"},"--constructor-args")," flag to pass arguments to the constructor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.0;\n\nimport {ERC20} from "solmate/tokens/ERC20.sol";\n\ncontract MyToken is ERC20 {\n    constructor(\n        string memory name,\n        string memory symbol,\n        uint8 decimals,\n        uint256 initialSupply\n    ) ERC20(name, symbol, decimals) {\n        _mint(msg.sender, initialSupply);\n    }\n}\n')),(0,r.kt)("h2",{id:"with-hardhat"},"Build With Hardhat"),(0,r.kt)("p",null,"Hardhat is a development environment for Ethereum software. It consists of different components for editing, compiling, debugging and deploying your smart contracts and dApps, all of which work together to create a complete development environment. For detailed information and further utilization of Hardhat, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/docs"},"official documentation"),"."),(0,r.kt)("h3",{id:"installation-1"},"Installation"),(0,r.kt)("p",null,"Install Hardhat in your project by following the instructions on ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/hardhat-runner/docs/getting-started#installation"},"Hardhat's Installation Guide"),"."),(0,r.kt)("h3",{id:"creating-a-new-project-1"},"Creating a New Project"),(0,r.kt)("p",null,"To create the sample project, run ",(0,r.kt)("inlineCode",{parentName:"p"},"npx hardhat init")," in your project folder:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'$ npx hardhat init\n888    888                      888 888               888\n888    888                      888 888               888\n888    888                      888 888               888\n8888888888  8888b.  888d888 .d88888 88888b.   8888b.  888888\n888    888     "88b 888P"  d88" 888 888 "88b     "88b 888\n888    888 .d888888 888    888  888 888  888 .d888888 888\n888    888 888  888 888    Y88b 888 888  888 888  888 Y88b.\n888    888 "Y888888 888     "Y88888 888  888 "Y888888  "Y888\n\n\ud83d\udc77 Welcome to Hardhat v2.22.3 \ud83d\udc77\u200d\n\n? What do you want to do? \u2026\n\u276f Create a JavaScript project\n  Create a TypeScript project\n  Create a TypeScript project (with Viem)\n  Create an empty hardhat.config.js\n  Quit\n')),(0,r.kt)("h3",{id:"compiling-your-contracts"},"Compiling Your Contracts"),(0,r.kt)("p",null,"Next, if you take a look in the ",(0,r.kt)("inlineCode",{parentName:"p"},"contracts/")," folder, you'll see ",(0,r.kt)("inlineCode",{parentName:"p"},"Lock.sol"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.24;\n\n// Uncomment this line to use console.log\n// import "hardhat/console.sol";\n\ncontract Lock {\n    uint public unlockTime;\n    address payable public owner;\n\n    event Withdrawal(uint amount, uint when);\n\n    constructor(uint _unlockTime) payable {\n        require(\n            block.timestamp < _unlockTime,\n            "Unlock time should be in the future"\n        );\n\n        unlockTime = _unlockTime;\n        owner = payable(msg.sender);\n    }\n\n    function withdraw() public {\n        // Uncomment this line, and the import of "hardhat/console.sol", to print a log in your terminal\n        // console.log("Unlock time is %o and block timestamp is %o", unlockTime, block.timestamp);\n\n        require(block.timestamp >= unlockTime, "You can\'t withdraw yet");\n        require(msg.sender == owner, "You aren\'t the owner");\n\n        emit Withdrawal(address(this).balance, block.timestamp);\n\n        owner.transfer(address(this).balance);\n    }\n}\n')),(0,r.kt)("p",null,"To compile it, simply run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npx hardhat compile\n")),(0,r.kt)("h3",{id:"testing-your-contracts"},"Testing Your Contracts"),(0,r.kt)("p",null,"Your project comes with tests that use ",(0,r.kt)("a",{parentName:"p",href:"https://mochajs.org"},"Mocha"),", ",(0,r.kt)("a",{parentName:"p",href:"https://www.chaijs.com"},"Chai"),", ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethers.org/v6/"},"Ethers.js")," and ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/ignition/docs/getting-started#overview"},"Hardhat Ignition"),"."),(0,r.kt)("p",null,"If you take a look in the ",(0,r.kt)("inlineCode",{parentName:"p"},"test/")," folder, you'll see a test file."),(0,r.kt)("p",null,"You can run your tests with ",(0,r.kt)("inlineCode",{parentName:"p"},"npx hardhat test"),"."),(0,r.kt)("h3",{id:"deploying-your-contracts-1"},"Deploying Your Contracts"),(0,r.kt)("p",null,"Next, to deploy the contract we will use a Hardhat Ignition module."),(0,r.kt)("p",null,"Before run the module, we have to update ",(0,r.kt)("inlineCode",{parentName:"p"},"hardhat.config.js"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// hardhat.config.js\nrequire("@nomicfoundation/hardhat-toolbox");\nrequire("dotenv").config();\n\n/** @type import(\'hardhat/config\').HardhatUserConfig */\nmodule.exports = {\n  solidity: "0.8.24",\n  networks: {\n    over: {\n      url: OVER_RPC_URL,\n      accounts: [process.env.PRIVATE_KEY],\n    },\n  },\n};\n')),(0,r.kt)("p",null,"And run the following command to deploy your contract:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ npx hardhat ignition deploy ignition/modules/Lock.js --network over\nDeploying [ LockModule ]\n\nBatch #1\n  Executing LockModule#Lock...\nBatch #1\n  Executed LockModule#Lock\n\n[ LockModule ] successfully deployed \ud83d\ude80\n\nDeployed Addresses\n\nLockModule#Lock - 0x194B734f7f...\n")),(0,r.kt)("h2",{id:"with-remix"},"Build With Remix"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://remix-project.org/"},"Remix IDE")," is an open-source web and desktop application for creating and deploying Smart Contracts. For comprehensive guidance and advanced features of Remix, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://remix-ide.readthedocs.io/en/latest/index.html"},"official documentation"),"."),(0,r.kt)("h3",{id:"using-remix-with-overprotocol"},"Using Remix with OverProtocol"),(0,r.kt)("h4",{id:"access"},"Access"),(0,r.kt)("p",null,"Open Remix IDE in your web browser to begin. You can access it at ",(0,r.kt)("a",{parentName:"p",href:"https://remix.ethereum.org"},"https://remix.ethereum.org"),"."),(0,r.kt)("h4",{id:"connect"},"Connect"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Configure MetaMask (or its alternatives)"),": Ensure MetaMask or a similar compatible browser extension is installed in your browser and configured for the OverProtocol network."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Connect to OverProtocol"),': In the "Deploy & Run Transactions" plugin within Remix, select "Injected Web3" to connect Remix with the OverProtocol node through MetaMask.')),(0,r.kt)("h4",{id:"load-contracts"},"Load Contracts"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Write or Import Contracts"),": You can either write new smart contracts directly in the Remix editor or import existing files into the Remix environment.")),(0,r.kt)("h4",{id:"compile"},"Compile"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Compile Contracts"),": Use Remix's Solidity compiler to compile your contracts. Make sure to select the appropriate compiler version that matches your contract's pragma statement.")),(0,r.kt)("h4",{id:"deploy"},"Deploy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Deploy Contracts"),': Once compiled, deploy your contracts to OverProtocol by clicking on the "Deploy" button. Ensure that the correct environment (OverProtocol) and account are selected.')),(0,r.kt)("p",null,"By following these steps, you can efficiently develop, test, and deploy smart contracts on OverProtocol, leveraging the powerful features of Remix IDE to enhance your development workflow."))}d.isMDXComponent=!0}}]);